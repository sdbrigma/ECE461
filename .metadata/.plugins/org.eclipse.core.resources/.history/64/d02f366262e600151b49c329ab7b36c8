/*
 * interrupts.c
 *
 *  Created on: Mar 5, 2016
 *      Author: Steffon Brigman
 */

#include "msp432.h"
#include "stdint.h"
#include "driverlib.h"
#include "functions.h"
#include "macros.h"


void port5IsrHandler(){ // SW1
	//TODO: DEBOUNCE

	doorbell();
}

void port3IsrHandler(){//SW2
	//TODO: DEBOUNCE

	if(alarm_state){
		alarm_system_state(FALSE);
	}
	else{
		alarm_system_state(TRUE);
	}
}

uint32_t adcResult;
void adc14IsrHandler(){
	if(ADC14IFG10){ // only execute code if interrupt is pending
		if(alarm_state){
			if(ADC14MEM10 >= BURGLAR){
				burglar_alarm();
				adcResult = ADC14MEM10;
			}
			else{
				adcResult = ADC14MEM10;
			}
		}
		ADC14_clearInterruptFlag(ADC_INT10);
	}

	if(ADC14IFG7){
		ADC14_clearInterruptFlag(ADC_INT7);
	}
}
